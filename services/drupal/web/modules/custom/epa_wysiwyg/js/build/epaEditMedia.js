!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.CKEditor5=t():(e.CKEditor5=e.CKEditor5||{},e.CKEditor5.epaEditMedia=t())}(self,(()=>(()=>{var e={"ckeditor5/src/core.js":(e,t,i)=>{e.exports=i("dll-reference CKEditor5.dll")("./src/core.js")},"ckeditor5/src/ui.js":(e,t,i)=>{e.exports=i("dll-reference CKEditor5.dll")("./src/ui.js")},"ckeditor5/src/widget.js":(e,t,i)=>{e.exports=i("dll-reference CKEditor5.dll")("./src/widget.js")},"dll-reference CKEditor5.dll":e=>{"use strict";e.exports=CKEditor5.dll}},t={};function i(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,i),a.exports}i.d=(e,t)=>{for(var r in t)i.o(t,r)&&!i.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var r={};return(()=>{"use strict";i.d(r,{default:()=>c});var e=i("ckeditor5/src/core.js"),t=i("ckeditor5/src/ui.js");i("ckeditor5/src/widget.js");function o(e){return!!e&&e.is("element","drupalMedia")}function a(e){return!!e&&e.is("element","drupalInlineMedia")}class d extends e.Command{execute(){const e=this.editor.model.document.selection.getSelectedElement(),t=this.editor.plugins.get("DrupalMediaMetadataRepository");(o(e)||a(e))&&t.getMetadata(e).then((e=>{window.open(e.edit_url,"_blank")})).catch((e=>{console.warn(e.toString())}))}}class n extends e.Plugin{static get requires(){return["DrupalMediaEditing"]}static get pluginName(){return"EditDrupalMediaUi"}init(){this._createToolbarEditMediaButton(),this.editor.commands.add("EditDrupalMedia",new d(this.editor))}_createToolbarEditMediaButton(){const{editor:e}=this;e.ui.componentFactory.add("EditDrupalMediaButton",(i=>{const r=new t.ButtonView(i),o=e.commands.get("EditDrupalMedia");return r.set({isEnabled:!0,label:Drupal.t("Edit Media"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.87 12.61a.75.75 0 0 1-.089.976l-.085.07-3.154 2.254 3.412 2.414a.75.75 0 0 1 .237.95l-.057.095a.75.75 0 0 1-.95.237l-.096-.058-4.272-3.022-.003-1.223 4.01-2.867a.75.75 0 0 1 1.047.174zm2.795-.231.095.057 4.011 2.867-.003 1.223-4.272 3.022-.095.058a.75.75 0 0 1-.88-.151l-.07-.086-.058-.095a.75.75 0 0 1 .15-.88l.087-.07 3.412-2.414-3.154-2.253-.085-.071a.75.75 0 0 1 .862-1.207zM16 0a2 2 0 0 1 2 2v9.354l-.663-.492-.837-.001V2a.5.5 0 0 0-.5-.5H2a.5.5 0 0 0-.5.5v15a.5.5 0 0 0 .5.5h3.118L7.156 19H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h14zM5.009 15l.003 1H3v-1h2.009zm2.188-2-1.471 1H5v-1h2.197zM10 11v.095L8.668 12H7v-1h3zm4-2v1H7V9h7zm0-2v1H7V7h7zm-4-2v1H5V5h5zM6 3v1H3V3h3z"/></svg>\n',tooltip:!0}),r.bind("isEnabled").to(o,"isEnabled"),this.listenTo(r,"execute",(()=>{e.execute("EditDrupalMedia")})),r}))}}class l extends e.Plugin{static get requires(){return["DrupalMediaEditing"]}static get pluginName(){return"CopyFilepath"}init(){this._createToolbarCopyFilepathButton()}_createToolbarCopyFilepathButton(){const{editor:e}=this;e.ui.componentFactory.add("CopyFilepathButton",(i=>{const r=new t.ButtonView(i);return r.set({isEnabled:!0,label:Drupal.t("Copy file path"),icon:'<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.95154 2.84131C1.95154 2.28902 2.39925 1.84131 2.95154 1.84131H17.0484C17.6007 1.84131 18.0484 2.28902 18.0484 2.84131V17.1588C18.0484 17.7111 17.6007 18.1588 17.0484 18.1588H2.95154C2.39925 18.1588 1.95154 17.7111 1.95154 17.1588V2.84131ZM3.5116 8.10129H16.4926V15.3194C16.4926 15.8717 16.0449 16.3194 15.4926 16.3194H4.5116C3.95931 16.3194 3.5116 15.8717 3.5116 15.3194V8.10129ZM4.44415 3.81676C3.89187 3.81676 3.44415 4.26447 3.44415 4.81676V6.35087H16.4316V4.81676C16.4316 4.26447 15.9838 3.81676 15.4316 3.81676H4.44415Z" fill="black"/></svg>\n',tooltip:!0}),this.listenTo(r,"execute",(()=>{const t=e.model.document.selection.getSelectedElement(),i=e.plugins.get("DrupalMediaMetadataRepository");(o(t)||a(t))&&i.getMetadata(t).then((e=>{navigator.clipboard.writeText(e.imageSourceMetadata.filepath),alert("Copied the file path: "+e.imageSourceMetadata.filepath)})).catch((e=>{console.warn(e.toString())}))})),r}))}}class s extends e.Plugin{static get requires(){return[n,l]}}const c={EditDrupalMedia:s}})(),r=r.default})()));